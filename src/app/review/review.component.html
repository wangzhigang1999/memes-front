<div class="w-full md:max-w-4xl mx-auto p-4">
  <!-- ç™»å½•é¡µé¢ -->
  @if (!hasToken) {
    <div class="flex items-center justify-center h-[80vh]">
      <div class="w-full max-w-lg bg-white dark:bg-zinc-800 shadow-sm rounded-lg p-8 flex flex-col items-center gap-6">
        <!-- æ ‡é¢˜ -->
        <div class="text-center mb-2">
          <h2 class="text-2xl font-medium text-gray-800 dark:text-gray-200"> è¾“å…¥ Token </h2>
          <p class="text-gray-500 dark:text-gray-400 text-sm mt-2"> è¯·æä¾›æœ‰æ•ˆçš„ Token ä»¥ç»§ç»­æ“ä½œ </p>
        </div>

        <!-- è¾“å…¥æ¡† -->
        <div class="w-full">
          <input
            type="text"
            placeholder="ç²˜è´´ä½ çš„ Token..."
            [(ngModel)]="token"
            class="w-full bg-gray-50 dark:bg-zinc-700 border-0 text-base px-4 py-3 rounded-lg focus:ring-2 focus:ring-emerald-400 focus:bg-white dark:focus:bg-zinc-600 transition-all"
          />
        </div>

        <!-- æŒ‰é’® -->
        <button class="w-full bg-emerald-500 hover:bg-emerald-600 text-white py-3 px-4 rounded-lg transition-colors" (click)="submitToken()"> æäº¤</button>
      </div>
    </div>
  } @else {
    <!-- ç»Ÿè®¡å¡ç‰‡ -->
    <div class="grid grid-cols-2 gap-4 mb-8">
      <!-- å®¡æ ¸é€šè¿‡ -->
      <div class="bg-white dark:bg-zinc-800 rounded-lg shadow-sm p-5 flex flex-col items-center justify-center">
        <div class="text-sm font-medium text-gray-500 dark:text-gray-400 mb-1"> å®¡æ ¸é€šè¿‡</div>
        <div class="text-3xl font-bold text-emerald-500">{{ passedNum }}</div>
      </div>

      <!-- å¾…å®¡æ ¸ -->
      <div class="bg-white dark:bg-zinc-800 rounded-lg shadow-sm p-5 flex flex-col items-center justify-center">
        <div class="text-sm font-medium text-gray-500 dark:text-gray-400 mb-1"> å¾…å®¡æ ¸</div>
        <div class="text-3xl font-bold text-rose-500">{{ waitingNum }}</div>
      </div>
    </div>

    <!-- å¾…å®¡æ ¸åª’ä½“åˆ—è¡¨ -->
    <div class="space-y-6">
      <app-media
        (reviewed)="onReviewed($event)"
        *ngFor="let media of waitingList; let i = index"
        [nextID]="i + 1 < waitingList.length ? waitingList[i + 1].id : -1"
        [review]="true"
        [content]="media"
        class="block w-full"
      />
    </div>

    <!-- åº•éƒ¨å¡ç‰‡ -->
    <div class="bg-white dark:bg-zinc-800 rounded-lg shadow-sm mt-8 mb-20 overflow-hidden">
      <div class="p-4">
        <img src="assets/welcome.webp" class="rounded-lg w-full h-48 object-cover" alt="Welcome Image" />
      </div>
      <div class="p-6 text-center">
        <div class="text-base font-medium text-gray-600 dark:text-gray-300 mb-6"> ğŸ¤– æ²¡æœ‰æ›´å¤šå†…å®¹äº† ğŸ¤–</div>
        <div class="flex flex-wrap justify-center gap-2">
          <button
            (click)="batchAccept()"
            class="px-6 py-2 bg-white dark:bg-zinc-700 border border-emerald-500 text-emerald-600 dark:text-emerald-400 rounded-lg hover:bg-emerald-50 dark:hover:bg-zinc-600 transition-colors"
          >
            é€šè¿‡
          </button>
          <button
            (click)="batchReject()"
            class="px-6 py-2 bg-white dark:bg-zinc-700 border border-amber-500 text-amber-600 dark:text-amber-400 rounded-lg hover:bg-amber-50 dark:hover:bg-zinc-600 transition-colors"
          >
            æ‹’ç»
          </button>
          <button
            (click)="removeToken()"
            class="px-6 py-2 bg-white dark:bg-zinc-700 border border-rose-500 text-rose-600 dark:text-rose-400 rounded-lg hover:bg-rose-50 dark:hover:bg-zinc-600 transition-colors"
          >
            æ¸…é™¤ token
          </button>
        </div>
      </div>
    </div>
  }

  <!-- Modal -->
  <input class="modal-toggle" id="message" type="checkbox" />
  <div class="modal backdrop-blur-sm">
    <div class="bg-white dark:bg-zinc-800 rounded-lg shadow-md max-w-sm mx-auto p-6 text-center">
      <h3 class="font-medium text-lg text-gray-800 dark:text-gray-200 mb-2">
        {{ title }}
      </h3>
      <p class="py-4 text-gray-600 dark:text-gray-400">{{ message }}</p>
      <div class="mt-4 flex justify-center">
        <label class="px-5 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg cursor-pointer transition-colors" for="message"> ç¡®å®š </label>
      </div>
    </div>
  </div>
</div>
